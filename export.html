<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script type="text/javascript" src="resources/qrcode.js"></script>
    <script type="text/javascript" src="resources/jquery.min.js"></script>
    <script type="text/javascript" src="resources/instascan.min.js"></script>
    <title>QR Scanner and Decoder</title>
</head>

<body>
    <p>Your name</p><input id="scoutName" type="text"><br>
    <p>Team Number</p><input id="teamNum" type="number"><br>
    <p>Match Number</p><input id="matchNum" type="number"><br>
    <p>Successful Hatch panels</p><button onclick="sub('hatchNum')">-</button><input id="hatchNum" type="number" value="0"><button onclick="add('hatchNum')">+</button><br>
    <p>Dropped Hatch panels</p><button onclick="sub('badHatchNum')">-</button><input id="badHatchNum" type="number" value="0"><button onclick="add('badHatchNum')">+</button><br>
    <br>
    <br>
    <button id="export" type="button" onclick="qrify()">Export Data</button>


    <div id="qrcode" style="width:100px; height:100px; margin-top:15px; margin-bottom: 50px"></div>

    <script type="text/javascript">
        var qrcode = new QRCode(document.getElementById("qrcode"), {
            width: 250,
            height: 250
        });
        function qrify() {
            var exportObj = {
                scoutName: document.getElementById("scoutName").value,
                teamNum: document.getElementById("teamNum").value,
                matchNum: document.getElementById("matchNum").value,
                successfulHatch: document.getElementById("hatchNum").value, 
                failedHatch: document.getElementById("badHatchNum").value               
            };
            qrcode.makeCode(JSON.stringify(exportObj));
        }

        function add(val) {
            var x = document.getElementById(val);
            x.value = parseInt(x.value) + 1;
        }

        function sub(val) {
            var x = document.getElementById(val);
            x.value = parseInt(x.value) - 1;
        }
    </script>
</body>


</html>
