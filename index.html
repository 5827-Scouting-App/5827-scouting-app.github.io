<!doctype html>
<html>

<head>
    <link rel="manifest" href="manifest.json">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="white">
    <meta name="apple-mobile-web-app-title" content="5827 Scouting">
    <meta name="theme-color" content="purple">

    <link rel="apple-touch-icon" href="/icon/icon512.png">
    <link rel="stylesheet" href="res/bulma.min.css">
    <link rel="stylesheet" href="style.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>

    <script src="res/jquery.min.js"></script>
    <script type="text/javascript" src="res/qrcode.js"></script>
    <script type="text/javascript" src="res/jsQR.js"></script>
    <script type="text/javascript" src="res/tablesort.js"></script>
    <script type="text/javascript" src="res/tablesort.number.js"></script>
    <script type="text/javascript" src="res/instascan.min.js"></script>

    <script src="pwabuilder-sw.js"></script>
    <script src="app.js"></script>

    <style>
        select {
            padding: 10px;
            border-radius: 5px;
        }
    </style>

</head>

<body class="has-navbar-fixed-top">
    <div id="homePage">
        <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
            <!--<div class="navbar-start">
            <a class="navbar-item" href="#">
                &laquo; Back
            </a>
        </div>-->
            <div class="navbar-end">
                <a class="navbar-item" href="#">
                    <img src="icon/logo.png" alt="CodePurple Scouting">
                </a>
            </div>
        </nav>

        <section class="hero is-light is-fullheight" style="background-color: rgb(127, 84, 152);">
            <div class="hero-body">
                <div class="container">
                    <div>
                        <h1 class="title" style="color: white;">
                            Code Purple Scouting
                        </h1>
                    </div>
                    <br>
                    <br>
                    <div class="subtitle">
                        <div style="padding: 5px;">
                            <a class="button is-outlined is-light is-large is-fullwidth" style="padding: 30px;"
                                onclick="showExport()">
                                <span>
                                    Match Scouting
                                </span>
                                <span class="icon is-large">
                                    <i class="fas fa-chevron-right"></i>
                                </span>
                            </a>
                        </div>
                        <div style="padding: 5px;">
                            <a class="button is-outlined is-light is-large" style="width: 100%; padding: 30px;"
                                onclick="showPit()">
                                <span>
                                    Pit Scouting
                                </span>
                                <span class="icon is-large">
                                    <i class="fas fa-chevron-right"></i>
                                </span>
                            </a>
                        </div>
                        <div style="padding: 5px;">
                            <a class="button is-outlined is-light is-large" style="width: 100%; padding: 30px;"
                                onclick="showMaster()">
                                <span>
                                    Master
                                </span>
                                <span class="icon is-large">
                                    <i class="fas fa-chevron-right"></i>
                                </span>
                            </a>
                        </div>
                        <div style="padding: 5px;" id="dwnld">
                            <a class="button is-outlined is-light is-large" style="width: 100%; padding: 30px;"
                                onclick="install()">
                                <span class="icon is-large">
                                    <i class="fas fa-download"></i>
                                </span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <!--





    -->
    <div class="has-navbar-fixed-top is-fullheight" id="matchPage">

        <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
            <div class="navbar-start">
                <a class="navbar-item" href="index.html">
                    &laquo; Back
                </a>
            </div>
        </nav>
        <section class="hero is-fullheight" style="background-color: rgb(127, 84, 152); color: white;">
            <div style="padding: 10px; padding-top: 7%;" class="container is-fluid">
                <p>Your name</p><input class="input" id="scoutName" placeholder="Gordon" type="text"><br>
                <p>Team Number</p><input class="input" id="teamNum" placeholder="5827" type="number"><br>
                Match Number<br>
                <div class="field has-addons" style="padding:5px; width: 100%;">
                    <p class="control">
                        <a class="button is-danger" onclick="sub('matchNum')">-</a>
                    </p>
                    <p class="control">
                        <input class="input" id="matchNum" type="number" value="1">
                    </p>
                    <p class="control">
                        <a class="button is-primary" onclick="add('matchNum')">+</a>
                    </p>
                </div>
                <br>
                <strong style="color: white">Autonomous</strong><br>

                AUTONOMOUS Successful High Shots
                <div class="field has-addons" style="padding:5px; width: 100%;">
                    <p class="control">
                        <a class="button is-danger" onclick="sub('aHighNum')">-</a>
                    </p>
                    <p class="control">
                        <input class="input" id="aHighNum" type="number" value="0">
                    </p>
                    <p class="control">
                        <a class="button is-primary" onclick="add('aHighNum')">+</a>
                    </p>
                </div>


                AUTONOMOUS Successful Low Shots
                <div class="field has-addons" style="padding:5px; width: 100%;">
                    <p class="control">
                        <a class="button is-danger" onclick="sub('aLowNum')">-</a>
                    </p>
                    <p class="control">
                        <input class="input" id="aLowNum" type="number" value="0">
                    </p>
                    <p class="control">
                        <a class="button is-primary" onclick="add('aLowNum')">+</a>
                    </p>
                </div>

                <br>
                <strong style="color: white">Ball Game</strong><br>


                Successful High Shots
                <div class="field has-addons" style="padding:5px; width: 100%;">
                    <p class="control">
                        <a class="button is-danger" onclick="sub('HighNum')">-</a>
                    </p>
                    <p class="control">
                        <input class="input" id="HighNum" type="number" value="0">
                    </p>
                    <p class="control">
                        <a class="button is-primary" onclick="add('HighNum')">+</a>
                    </p>
                </div>


                Successful Low Shots
                <div class="field has-addons" style="padding:5px; width: 100%;">
                    <p class="control">
                        <a class="button is-danger" onclick="sub('LowNum')">-</a>
                    </p>
                    <p class="control">
                        <input class="input" id="LowNum" type="number" value="0">
                    </p>
                    <p class="control">
                        <a class="button is-primary" onclick="add('LowNum')">+</a>
                    </p>
                </div>

                <br>
                <strong style="color: white;">Climbing</strong>
                <div class="control">
                    <label class="radio">
                        <input type="radio" value="0" name="answer"> Did not try
                    </label>
                    <label class="radio">
                        <input type="radio" value="1" name="answer"> Parked
                    </label>
                    <label class="radio">
                        <input type="radio" value="2" name="answer"> Attempted
                    </label>
                    <label class="radio">
                        <input type="radio" value="3" name="answer"> Successful
                    </label>
                </div>

                <p><label for="outcome">Match Outcome</label></p>
                <select id="outcome">
                    <option value="0">Loss</option>
                    <option value="1">Draw</option>
                    <option value="2">Win</option>
                </select>

                <br>
                Notes
                <br>
                <textarea id="notes"></textarea>
                <br>
                <br>
                <a class="button is-info" id="export" type="button" onclick="qrify()">Export Data</a>
                <br>
                <br>
                <div id="codes" class="container"></div>

                Show this data to Kevin!
                <br>
                <a class="button is-danger" id="export" type="button" onclick="rmQueue()">Clear Queue</a>
            </div>
        </section>


        <script type="text/javascript">
            var n = 0;
            function rmQueue() {
                $("#codes").empty();
            };
            function qrify() {
                var name = "qrcode" + n;
                $('#codes').prepend('<div class="boorder"><h3>Match ' + document.getElementById("matchNum").value + '</h3><div class="outline" id="' + name + '" style="margin-top:15px; margin-bottom: 50px; padding: 10%;"></div></div><br>');
                var qrcode = new QRCode(document.getElementById(name), {
                    width: 500,
                    height: 500
                });
                var r = 0;
                var radios = document.getElementsByName('answer');
                for (var i = 0; i < radios.length; i++) {
                    if (radios[i].checked) {
                        r = radios[i].value;
                    }
                }
                var exportObj = {
                    type: 0,
                    scoutName: document.getElementById("scoutName").value,
                    teamNum: document.getElementById("teamNum").value,
                    matchNum: document.getElementById("matchNum").value,
                    aHighBall: document.getElementById("aHighNum").value,
                    aLowBall: document.getElementById("aLowBall").value,
                    sHighBall: document.getElementById("HighNum").value,
                    sLowBall: document.getElementById("LowNum").value,
                    climb: r,
                    win: document.getElementById("outcome").options[document.getElementById("outcome").selectedIndex].value,
                    key: document.getElementById("scoutName").value + '' + Math.floor(Math.random() * Math.floor(1000000000))
                };
                qrcode.makeCode(JSON.stringify(exportObj));
                n++;
            }

            function add(val) {
                var x = document.getElementById(val);
                x.value = parseInt(x.value) + 1;
            }

            function sub(val) {
                var x = document.getElementById(val);
                if (parseInt(x.value) - 1 < 0) {
                    x.value = 0;
                } else {
                    x.value = parseInt(x.value) - 1;
                }
            }
        </script>
    </div>
    <!--






    -->
    <div class="has-navbar-fixed-top is-fullheight" id="pitPage">
        <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
            <div class="navbar-start">
                <a class="navbar-item" onclick="goHome()">
                    &laquo; Back
                </a>
            </div>
        </nav>
        <section class="hero is-fullheight" style="background-color: rgb(127, 84, 152); color: white;">
            <div style="padding: 10px; padding-top: 7%;" class="container is-fluid">
                <p>Your name</p><input class="input" id="scoutName1" placeholder="Anirudh" type="text"><br>
                <p>Team Number</p><input class="input" id="teamNum1" placeholder="5827" type="number"><br>

                <p><label for="drivetrain">Drivetrain (What's their drivetrain?)</label></p>
                <select id="drivetrain">
                    <option value="West Coast">West Coast</option>
                    <option value="Swerve">Swerve</option>
                    <option value="Meccanum">Meccanum</option>
                    <option value="Other">Other</option>
                </select>

                <p><label for="shooting">High goal or Low goal?</label></p>
                <select id="shooting">
                    <option value="0">None</option>
                    <option value="1">Low</option>
                    <option value="2">High</option>
                    <option value="3">Both</option>
                </select>
                <br>
                <br>

                Autonomous Notes (How many balls? High or low?)
                <br>
                <textarea id="autoNotes"></textarea>

                <br>
                <br>


                Predicted accuracy (How many out of 5 balls makes it in?)
                <div class="field has-addons" style="padding:5px; width: 100%;">
                    <p class="control">
                        <a class="button is-danger" onclick="sub('accuracy')">-</a>
                    </p>
                    <p class="control">
                        <input class="input" id="accuracy" type="number" value="0">
                    </p>
                    <p class="control">
                        <a class="button is-primary" onclick="add('accuracy')">+</a>
                    </p>
                    <p>out of 5 balls</p>
                </div>

                Predicted Cycles (How many times can they go back and forth between shooting and collecting?)
                <div class="field has-addons" style="padding:5px; width: 100%;">
                    <p class="control">
                        <a class="button is-danger" onclick="sub('cargoNum1')">-</a>
                    </p>
                    <p class="control">
                        <input class="input" id="cargoNum1" type="number" value="0">
                    </p>
                    <p class="control">
                        <a class="button is-primary" onclick="add('cargoNum1')">+</a>
                    </p>
                </div>

                Control Panel
                <br>
                <select id="controlwheel">
                    <option value="0">No</option>
                    <option value="1">Position only</option>
                    <option value="2">Color only</option>
                    <option value="3">Yes (Color and position)</option>
                </select>

                <br>
                <br>

                Climb capability (Can they climb?)
                <br>
                <select id="climb">
                    <option value="0">No (Parks)</option>
                    <option value="1">Maybe</option>
                    <option value="2">Probably</option>
                    <option value="3">Yes (100%)</option>
                </select>
                <br>
                <br>
                Notes
                <br>
                <textarea id="notes"></textarea>
                <br>
                <br>
                <a class="button is-info" id="export" type="button" onclick="qrify1()">Export Data</a>
                <br>
                <br>
                <div id="codes2"></div>

                Show this data to Kevin!
                <br>
                <a class="button is-danger" id="export" type="button" onclick="rmQueue1()">Clear Queue</a>
            </div>
        </section>


        <script type="text/javascript">
            var n2 = 0;
            function rmQueue1() {
                $("#codes2").empty();
            };
            function qrify1() {
                var name = "qrcode" + n2;
                $('#codes2').prepend('<div class="boorder"><h3>Team ' + document.getElementById("teamNum1x").value + '</h3><div class="outline" id="' + name + '" style="margin-top:15px; margin-bottom: 50px; padding: 10%;"></div></div><br>');
                var qrcode = new QRCode(document.getElementById(name), {
                    width: 500,
                    height: 500
                });
                var exportObj = {
                    type: 1,
                    scoutName: document.getElementById("scoutName1").value,
                    teamNum: document.getElementById("teamNum1").value,
                    drivetrain: document.getElementById("drivetrain").options[document.getElementById("drivetrain").selectedIndex].value,
                    ballTarget: document.getElementById("shooting").options[document.getElementById("shooting").selectedIndex].value,
                    autoDescription: document.getElementById("autoNotes").value,
                    p_accuracy: document.getElementById("accuracy").value,
                    p_cycles: document.getElementById("cargoNum1").value,
                    p_climb: document.getElementById("climb").options[document.getElementById("climb").selectedIndex].value,
                    regNotes: document.getElementById("notes").value,
                    controlwheel: document.getElementById("controlwheel").options[document.getElementById("controlwheel").selectedIndex].value
                }
                qrcode.makeCode(JSON.stringify(exportObj));
                n++;
            }

            function add(val) {
                var x = document.getElementById(val);
                x.value = parseInt(x.value) + 1;
            }

            function sub(val) {
                var x = document.getElementById(val);
                if (parseInt(x.value) - 1 < 0) {
                    x.value = 0;
                } else {
                    x.value = parseInt(x.value) - 1;
                }
            }
        </script>
    </div>
    <!--





    -->
    <div class="has-navbar-fixed-top is-fullheight" id="masterPage">
        <nav class="navbar is-fixed-top" role="navigation" aria-label="main navigation">
            <div class="navbar-start">
                <a class="navbar-item" onclick="goHome()">
                    &laquo; Back
                </a>
            </div>
        </nav>
        <section class="hero is-fullheight" style="background-color: rgb(127, 84, 152); color: white;">
            <div style="padding: 4%;">
                <div class="columns">
                    <div class="column is-11">
                        <div class="title" style="color:white;">Dashboard</div>
                    </div>
                    <div class="column is-2">
                        <div class="field has-addons">
                            <p class="control">
                                <button class="button is-info" onclick="download()">
                                    <span class="icon is-large">
                                        <i class="fas fa-download"></i>
                                    </span>
                                </button>
                            </p>
                            <p class="control">
                                <button class="button is-primary" onclick="lookup()">
                                    <span class="icon is-small">
                                        <i class="fas fa-search"></i>
                                    </span>
                                </button>
                            </p>
                            <p class="control">
                                <button class="button is-info" onclick="refreshTable()">
                                    <span class="icon is-small">
                                        <i class="fas fa-sync"></i>
                                    </span>
                                </button>
                            </p>
                            <p class="control">
                                <button class="button is-success" onclick="launchAddModal()">
                                    <span class="icon is-small">
                                        <i class="fas fa-plus"></i>
                                    </span>
                                </button>
                            </p>
                        </div>
                    </div>
                </div>


                <!--TABLE-->
                <div class="columns table-container">
                    <table class="table is-striped" id="numTable">
                        <thead>
                            <tr>
                                <th>#</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th>#</th>
                            </tr>
                        </tfoot>
                        <tbody id="numTableBod">

                        </tbody>
                    </table>
                    <table class="table is-fullwidth is-striped" id="datTable">
                        <thead>
                            <tr>
                                <th data-sort-default>Team</th>
                                <th><abbr title="Played">Pld</abbr></th>
                                <th><abbr title="Broke Down">BD</abbr></th>
                                <th><abbr title="Win/Draw/Loss">W/D/L</abbr></th>
                                <th><abbr title="Auton High per Match">A H/m</abbr></th>
                                <th><abbr title="Auton Low per Match">A L/m</abbr></th>
                                <th><abbr title="High per Match">H/m</abbr></th>
                                <th><abbr title="Low per Match">L/m</abbr></th>
                                <th><abbr title="Climb level">Climb</abbr></th>
                                <th><abbr title="Climb Success Rate">Climb %</abbr></th>
                                <th><abbr title="Average Points Per Game">aPPG</abbr></th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th data-sort-default>Team</th>
                                <th><abbr title="Played">Pld</abbr></th>
                                <th><abbr title="Broke Down">BD</abbr></th>
                                <th><abbr title="Win/Draw/Loss">W/D/L</abbr></th>
                                <th><abbr title="Auton High per Match">A H/m</abbr></th>
                                <th><abbr title="Auton Low per Match">A L/m</abbr></th>
                                <th><abbr title="High per Match">H/m</abbr></th>
                                <th><abbr title="Low per Match">L/m</abbr></th>
                                <th><abbr title="Climb level">Climb</abbr></th>
                                <th><abbr title="Climb Success Rate">Climb %</abbr></th>
                                <th><abbr title="Average Points Per Game">aPPG</abbr></th>
                            </tr>
                        </tfoot>
                        <tbody id="datTableBod">
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <script type="text/javascript" src="master.js"></script>


        <!--MODALS-->

        <!--Numero uno-->
        <div class="modal" id="addDataModal">
            <div class="modal-background"></div>
            <div class="modal-card">
                <header class="modal-card-head">
                    <p class="modal-card-title">Add data</p>
                    <button class="delete" aria-label="close" onclick="launchAddModal()"></button>
                </header>
                <section class="modal-card-body">
                    <!-- Content ... -->
                    <canvas id="canvas" height="480" width="640"></canvas>
                    <p id="success"></p>
                </section>
                <footer class="modal-card-foot">
                    <button class="button is-success" onclick="importData()">Save</button>
                    <button class="button" onclick="launchAddModal()">Cancel</button>
                </footer>
            </div>
        </div>

        <div class="modal" id="lookupModal">
                <div class="modal-background"></div>
                <div class="modal-card">
                    <header class="modal-card-head">
                        <p class="modal-card-title">Add data</p>
                        <button class="delete" aria-label="close" onclick="lookup()"></button>
                    </header>
                    <section class="modal-card-body">
                        <!-- Content ... -->
                        <canvas id="canvas" height="480" width="640"></canvas>
                        <p id="success"></p>
                    </section>
                    <footer class="modal-card-foot">
                        <button class="button" onclick="lookup()">Cancel</button>
                    </footer>
                </div>
        </div>

    </div>
</body>



<div>
</div>

</html>